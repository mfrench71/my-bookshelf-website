---
layout: base.njk
title: Book Details
scripts: '<script type="module" src="/js/book-detail.js"></script>'
---
<!-- Header -->
<header class="bg-white border-b border-gray-200 sticky top-0 z-40">
  <div class="max-w-2xl mx-auto px-4 py-3 flex items-center justify-between">
    <div class="flex items-center gap-3">
      <a href="/books/" class="p-2 -ml-2 hover:bg-gray-100 rounded-lg">
        <i data-lucide="arrow-left" class="w-5 h-5 text-gray-600"></i>
      </a>
      <h1 class="text-xl font-bold text-gray-900">Book Details</h1>
    </div>
    <button id="delete-btn" class="p-2 hover:bg-red-50 rounded-lg text-red-600" title="Delete">
      <i data-lucide="trash-2" class="w-5 h-5"></i>
    </button>
  </div>
</header>

<!-- Loading -->
<div id="loading" class="max-w-2xl mx-auto px-4 py-12 text-center">
  <div class="animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full mx-auto"></div>
  <p class="text-gray-500 mt-3">Loading...</p>
</div>

<!-- Book Content -->
<main id="content" class="hidden max-w-2xl mx-auto px-4 py-6">
  <!-- Cover -->
  <div class="text-center mb-6">
    <div id="cover-container"></div>
  </div>

  <!-- Info -->
  <div class="text-center mb-6">
    <h2 id="book-title" class="text-2xl font-bold text-gray-900"></h2>
    <p id="book-author" class="text-gray-500 mt-1"></p>
  </div>

  <!-- Status & Rating -->
  <div class="flex justify-center items-center gap-4 mb-6">
    <span id="book-status" class="status-badge"></span>
    <div id="book-rating" class="rating-stars"></div>
  </div>

  <!-- Edit Form -->
  <form id="edit-form" class="bg-white rounded-xl border border-gray-200 p-4 space-y-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
      <input type="text" id="title" required
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Author</label>
      <input type="text" id="author" required
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Cover Image URL</label>
      <input type="url" id="cover-url"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
      <select id="status"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none bg-white">
        <option value="wantToRead">Want to Read</option>
        <option value="reading">Currently Reading</option>
        <option value="finished">Finished</option>
      </select>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
      <div id="rating-input" class="flex gap-1">
        <button type="button" class="star-btn p-1" data-rating="1"><i data-lucide="star" class="w-7 h-7"></i></button>
        <button type="button" class="star-btn p-1" data-rating="2"><i data-lucide="star" class="w-7 h-7"></i></button>
        <button type="button" class="star-btn p-1" data-rating="3"><i data-lucide="star" class="w-7 h-7"></i></button>
        <button type="button" class="star-btn p-1" data-rating="4"><i data-lucide="star" class="w-7 h-7"></i></button>
        <button type="button" class="star-btn p-1" data-rating="5"><i data-lucide="star" class="w-7 h-7"></i></button>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
      <textarea id="notes" rows="3"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none resize-none"></textarea>
    </div>

    <button type="submit" id="save-btn"
      class="w-full bg-primary hover:bg-primary-dark text-white font-medium py-3 px-4 rounded-lg transition-colors">
      Save Changes
    </button>
  </form>
</main>

<!-- Delete Confirmation Modal -->
<div id="delete-modal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-xl w-full max-w-sm p-6">
    <h3 class="text-lg font-semibold mb-2">Delete Book?</h3>
    <p class="text-gray-500 mb-6">This action cannot be undone.</p>
    <div class="flex gap-3">
      <button id="cancel-delete" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50">
        Cancel
      </button>
      <button id="confirm-delete" class="flex-1 py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700">
        Delete
      </button>
    </div>
  </div>
</div>

<!-- Toast -->
<div id="toast" class="hidden fixed bottom-6 left-4 right-4 sm:left-auto sm:right-4 sm:w-80 bg-gray-800 text-white px-4 py-3 rounded-lg shadow-lg z-50"></div>
