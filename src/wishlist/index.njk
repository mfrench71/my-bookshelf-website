---
layout: base.njk
title: Wishlist
scripts: '<script type="module" src="/js/wishlist/index.js"></script>'
---
<!-- Sub-navigation -->
<div class="bg-white border-b border-gray-200 sticky top-14 z-30">
  <div class="max-w-6xl mx-auto px-4 py-2 flex items-center justify-between min-h-[52px]">
    <nav aria-label="Breadcrumb">
      <ol class="flex items-center text-sm">
        <li class="flex items-center min-w-0">
          <a href="/" class="text-gray-500 hover:text-primary hover:underline">Home</a>
        </li>
        <li class="flex items-center min-w-0">
          <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400 mx-1 flex-shrink-0" aria-hidden="true"></i>
          <span class="text-gray-900 font-medium" aria-current="page">Wishlist</span>
        </li>
      </ol>
    </nav>
    <div class="flex items-center gap-2">
      <label for="sort-select" class="sr-only">Sort wishlist by</label>
      <select id="sort-select" class="text-sm border border-gray-300 rounded-lg px-3 py-1.5 min-h-[44px] bg-white">
        <option value="createdAt-desc">Date Added (Newest)</option>
        <option value="createdAt-asc">Date Added (Oldest)</option>
        <option value="priority-high">Priority (High First)</option>
        <option value="title-asc">Title (A-Z)</option>
        <option value="author-asc">Author (A-Z)</option>
      </select>
    </div>
  </div>
</div>

<div class="max-w-2xl mx-auto px-4 py-6 page-content">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-gray-900">Wishlist</h1>
    <p id="item-count" class="hidden text-sm text-gray-500" aria-live="polite"></p>
  </div>

  <!-- Loading State -->
  <div id="loading-state" class="space-y-4">
    <div class="skeleton h-24 rounded-xl"></div>
    <div class="skeleton h-24 rounded-xl"></div>
    <div class="skeleton h-24 rounded-xl"></div>
  </div>

  <!-- Empty State -->
  <div id="empty-state" class="hidden text-center py-12">
    <div class="w-16 h-16 mx-auto mb-4 bg-pink-100 rounded-full flex items-center justify-center">
      <i data-lucide="heart" class="w-8 h-8 text-pink-500" aria-hidden="true"></i>
    </div>
    <h3 class="text-lg font-medium text-gray-900 mb-2">Your wishlist is empty</h3>
    <p class="text-gray-500 mb-6">Books you want to buy will appear here.</p>
    <a href="/books/add/" class="inline-flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors min-h-[44px]">
      <i data-lucide="search" class="w-4 h-4" aria-hidden="true"></i>
      <span>Find Books</span>
    </a>
  </div>

  <!-- Wishlist Items -->
  <div id="wishlist-items" class="hidden space-y-4"></div>
</div>

<!-- Edit Item Bottom Sheet -->
<div id="edit-modal" class="hidden fixed inset-0 bg-black/50 z-50 md:p-4">
  <div class="bottom-sheet-content bg-white w-full md:max-w-md p-6 md:mx-auto">
    <div class="bottom-sheet-handle md:hidden"></div>
    <h3 class="text-lg font-semibold mb-4">Edit Wishlist Item</h3>
    <form id="edit-form" class="space-y-4" novalidate>
      <div>
        <label for="edit-priority" class="block font-semibold text-gray-700 mb-1">Priority</label>
        <select id="edit-priority" name="priority" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none min-h-[44px]">
          <option value="">No priority</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
        </select>
      </div>
      <div>
        <label for="edit-notes" class="block font-semibold text-gray-700 mb-1">Notes</label>
        <textarea id="edit-notes" name="notes" rows="3" placeholder="Why do you want this book?" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none resize-none"></textarea>
      </div>
      <div class="flex gap-3 pt-2">
        <button type="button" id="cancel-edit" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 min-h-[44px]">
          Cancel
        </button>
        <button type="submit" id="save-edit" class="flex-1 py-2 px-4 bg-primary text-white rounded-lg hover:bg-primary-dark min-h-[44px]">
          Save
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Move to Library Confirmation Bottom Sheet -->
<div id="move-modal" class="hidden fixed inset-0 bg-black/50 z-50 md:p-4">
  <div class="bottom-sheet-content bg-white w-full md:max-w-sm p-6 md:mx-auto">
    <div class="bottom-sheet-handle md:hidden"></div>
    <h3 class="text-lg font-semibold mb-2">Add to Library?</h3>
    <p id="move-text" class="text-gray-500 mb-6">This book will be moved to your library.</p>
    <div class="flex gap-3">
      <button id="cancel-move" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 min-h-[44px]">
        Cancel
      </button>
      <button id="confirm-move" class="flex-1 py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 min-h-[44px]">
        Add to Library
      </button>
    </div>
  </div>
</div>

<!-- Delete Confirmation Bottom Sheet -->
<div id="delete-modal" class="hidden fixed inset-0 bg-black/50 z-50 md:p-4">
  <div class="bottom-sheet-content bg-white w-full md:max-w-sm p-6 md:mx-auto">
    <div class="bottom-sheet-handle md:hidden"></div>
    <h3 class="text-lg font-semibold text-red-600 mb-2">Remove from Wishlist?</h3>
    <p id="delete-text" class="text-gray-500 mb-6">This item will be removed from your wishlist.</p>
    <div class="flex gap-3">
      <button id="cancel-delete" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 min-h-[44px]">
        Cancel
      </button>
      <button id="confirm-delete" class="flex-1 py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 min-h-[44px]">
        Remove
      </button>
    </div>
  </div>
</div>

<!-- Toast -->
<div id="toast" class="hidden fixed bottom-6 left-4 right-4 sm:left-auto sm:right-4 sm:w-80 bg-gray-800 text-white px-4 py-3 rounded-lg shadow-lg z-50"></div>
